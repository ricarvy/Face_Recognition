# Face_Recognition
# 使用说明

## 0.环境配置
（1）.请在本机上安装Anaconda3环境，下载地址：
[Anaconda](https://www.anaconda.com/download/)
版本在5以上均可
<br>
（2）.按Win+R,输入CMD打开Command窗口，输入下面语句：<br>
<code>pip install -r requirements.txt</code><br>
以下载运行所需要的依赖项

## 1.数据采集
采用两种数据采集方式：<br>
（1）.摄像头图像数据采集
Hint：采集前请打开计算机前置摄像头，运行下面语句：<br>
<code>python dataPreparation.py --num=100</code><br>
系统将会将摄像头截取到的前100帧转成图片存到data文件夹下
<br>
(2).爬虫网络图片收集
采集时请运行下面语句：<br>
<code>python image_spider.py</code><br>
系统将会从以下链接获得图片并分别存至data/men和data/women文件夹下

## 2.图像处理及标签标注
首先将图片归一化（将各个像素点除以255）以及浮点化（将整形的像素点转化为浮点型）
<br>
将‘men’图片标注为1，‘women’标注为0

## 3.人脸特征识别
使用haar特征检测提取人脸特征，并获得人脸区域。

## 4.性别网络定义
定义该网络的目的在于判定人脸性别属类，定义网络如下：
<code>_________________________________________________________________
Layer (type)                 Output Shape              Param #   <br>
=================================================================<br>
conv2d_1 (Conv2D)            (None, 64, 64, 32)        896       <br>
_________________________________________________________________<br>
activation_1 (Activation)    (None, 64, 64, 32)        0         <br>
_________________________________________________________________<br>
conv2d_2 (Conv2D)            (None, 62, 62, 32)        9248      <br>
_________________________________________________________________<br>
activation_2 (Activation)    (None, 62, 62, 32)        0         <br>
_________________________________________________________________<br>
max_pooling2d_1 (MaxPooling2 (None, 31, 31, 32)        0         <br>
_________________________________________________________________<br>
dropout_1 (Dropout)          (None, 31, 31, 32)        0         <br>
_________________________________________________________________<br>
conv2d_3 (Conv2D)            (None, 31, 31, 64)        18496     <br>
_________________________________________________________________<br>
activation_3 (Activation)    (None, 31, 31, 64)        0         <br>
_________________________________________________________________<br>
conv2d_4 (Conv2D)            (None, 29, 29, 64)        36928     <br>
_________________________________________________________________<br>
activation_4 (Activation)    (None, 29, 29, 64)        0         <br>
_________________________________________________________________<br>
max_pooling2d_2 (MaxPooling2 (None, 14, 14, 64)        0         <br>
_________________________________________________________________<br>
dropout_2 (Dropout)          (None, 14, 14, 64)        0         <br>
_________________________________________________________________<br>
flatten_1 (Flatten)          (None, 12544)             0         <br>
_________________________________________________________________<br>
dense_1 (Dense)              (None, 512)               6423040   <br>
_________________________________________________________________<br>
activation_5 (Activation)    (None, 512)               0         <br>
_________________________________________________________________<br>
dropout_3 (Dropout)          (None, 512)               0         <br>
_________________________________________________________________<br>
dense_2 (Dense)              (None, 2)                 1026      <br>
_________________________________________________________________<br>
activation_6 (Activation)    (None, 2)                 0         <br>
=================================================================<br>
Total params: 6,489,634<br>
Trainable params: 6,489,634<br>
Non-trainable params: 0<br>
_________________________________________________________________<br></code>

## 5.运行结果<br>
使用下面的语句运行视频捕捉结果：<br>
<code>python face_predict_use_keras_video.py</code><br>
使用下面的语句运行图片捕捉结果：<br>
<code>python face_predict_use_keras_video.py</code><br>
Hint:显示结果前请改变指定图片路径（如<code>filename='data/women/2.jpg'</code>）